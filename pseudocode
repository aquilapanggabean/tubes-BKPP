program kalkulator_ekspedisi

kamus
    berat, jarak, biayaDasar, faktor, estimasiHari, total : real
    estimasiOutput : string
    layanan : integer
    kotaAsal, kotaTujuan : integer
    tarifPerKg, tarifPerKm : real
    kota : array of string
    posisi : array of real

algoritma
    tarifPerKg <- 5000.0
    tarifPerKm <- 2000.0

    kota <- ["Jakarta", "Karawang", "Bandung", "Ngawi", "Banyuwangi"]
    posisi <- [0, 50, 150, 575, 1140]

    output("Masukkan berat barang (kg): ")
    input(berat)

    while berat <= 0 do
        output("ERROR: Berat harus > 0")
        output("Masukkan berat barang (kg): ")
        input(berat)
    endwhile

    output("Pilih kota asal:")
    for i <- 0 to length(kota) - 1 do
        output(i + 1, ". ", kota[i])
    endfor

    output("Masukkan pilihan: ")
    input(kotaAsal)

    while kotaAsal < 1 or kotaAsal > length(kota) do
        output("ERROR: Kota asal tidak valid")
        output("Masukkan pilihan: ")
        input(kotaAsal)
    endwhile

    kotaAsal <- kotaAsal - 1

    output("Pilih kota tujuan:")
    for i <- 0 to length(kota) - 1 do
        output(i + 1, ". ", kota[i])
    endfor

    output("Masukkan pilihan: ")
    input(kotaTujuan)

    while kotaTujuan < 1 or kotaTujuan > length(kota) or kotaTujuan - 1 = kotaAsal do
        output("ERROR: Kota tujuan tidak valid atau sama dengan kota asal")
        output("Masukkan pilihan: ")
        input(kotaTujuan)
    endwhile

    kotaTujuan <- kotaTujuan - 1

    jarak <- posisi[kotaAsal] - posisi[kotaTujuan]
    if jarak < 0 then
        jarak <- -jarak
    endif

    output("Pilih layanan:")
    output("1. Reguler")
    output("2. Express")
    output("3. Cargo")
    output("Masukkan pilihan: ")
    input(layanan)

    while layanan < 1 or layanan > 3 or (layanan = 3 and berat < 5) do
        if layanan = 3 and berat < 5 then
            output("ERROR: Cargo minimal 5 kg")
        else
            output("ERROR: Layanan tidak valid")
        endif
        output("Masukkan pilihan: ")
        input(layanan)
    endwhile

    biayaDasar <- (berat * tarifPerKg) + (jarak * tarifPerKm)

    switch layanan
        case 1:
            faktor <- 1.0
            estimasiHari <- jarak / 300
        case 2:
            faktor <- 1.5
            estimasiHari <- jarak / 500
        case 3:
            faktor <- 0.8
            estimasiHari <- jarak / 200
    endswitch

    total <- biayaDasar * faktor

    if estimasiHari < 1 then
        estimasiOutput <- format(estimasiHari * 24, " Jam")
    else
        estimasiOutput <- format(estimasiHari, " Hari")
    endif

    output("RINCIAN PENGIRIMAN")
    output("Asal           : ", kota[kotaAsal])
    output("Tujuan         : ", kota[kotaTujuan])
    output("Jarak          : ", format(jarak, 0), " km")
    output("Berat          : ", format(berat, 1), " kg")
    output("Total Biaya    : Rp ", format(total, 0))
    output("Estimasi Waktu : ", estimasiOutput)

endprogram
