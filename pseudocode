program kalkulator_ekspedisi

kamus
    berat, jarak, biayaDasar, faktor, estimasiHari, total : real
    layanan, estimasiOutput : string
    pilihanAsal, pilihanTujuan : integer
    indeksKotaAsal, indeksKotaTujuan : integer

    tarifPerKg : real <- 5000.00
    tarifPerKm : real <- 2000.00
    kota : array of string <- ["Jakarta", "Karawang", "Bandung", "Ngawi", "Banyuwangi"]
    posisi : array of real <- [0, 50, 150, 575, 1140]

algoritma
    output("Masukkan berat barang (kg): ")
    input(berat)

    if berat <= 0 then
        output("ERROR: berat harus > 0")
        return
    endif

    output("Pilih kota asal:")
    for i <- 0 to length(kota) - 1 do
        output(i + 1, ". ", kota[i])
    endfor

    output("Masukkan pilihan: ")
    input(kotaAsal)

    if pilihanAsal < 1 or pilihanAsal > length(kota) then
        output("ERROR: kota asal tidak valid")
        return
    endif

    indeksKotaAsal <- pilihanAsal - 1

    output("Pilih kota tujuan:")
    for i <- 0 to length(kota) - 1 do
        output(i + 1, ". ", kota[i])
    endfor

    output("Masukkan pilihan: ")
    input(kotaTujuan)

    if pilihanTujuan < 1 or pilihanTujuan > length(kota) then
        output("ERROR: kota tujuan tidak valid")
        return
    endif

    indeksKotaTujuan <- pilihanTujuan - 1

    if indeksKotaAsal = indeksKotaTujuan then
        output("ERROR: kota asal dan tujuan tidak boleh sama")
        return
    endif

    jarak <- posisi[indeksKotaAsal] - posisi[indeksKotaTujuan]
    if jarak < 0 then
        jarak <- -jarak
    endif

    output("Pilih layanan:")
    output("1. Reguler")
    output("2. Express")
    output("3. Cargo")
    output("Masukkan pilihan: ")
    input(layanan)

    biayaDasar <- (berat * tarifPerKg) + (jarak * tarifPerKm)

    switch layanan
        case "1":
            faktor <- 1.0
            estimasiHari <- jarak / 300
        case "2":
            faktor <- 1.5
            estimasiHari <- jarak / 500
        case "3":
            if berat < 5 then
                output("ERROR: cargo minimal 5 kg")
                return
            endif
            faktor <- 0.8
            estimasiHari <- jarak / 200
        default:
            output("ERROR: layanan tidak valid")
            return
    endswitch

    total <- biayaDasar * faktor

    if estimasiHari < 1 then
        estimasiOutput <- format(estimasiHari * 24, " jam")
    else
        estimasiOutput <- format(estimasiHari, " hari")
    endif

    output("RINCIAN PENGIRIMAN")
    output("Asal           : ", kota[indeksKotaAsal])
    output("Tujuan         : ", kota[indeksKotaTujuan])
    output("Jarak          : ", format(jarak, 0), " km")
    output("Berat          : ", format(berat, 1), " kg")
    output("Total biaya    : Rp ", format(total, 0))
    output("Estimasi waktu : ", estimasiOutput)

endprogram
